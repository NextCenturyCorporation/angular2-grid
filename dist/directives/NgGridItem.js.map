{"version":3,"file":"NgGridItem.js","sourceRoot":"","sources":["../../src/directives/NgGridItem.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAkB,eAAe,EAAqB,gBAAgB,EAAE,MAAM,EAAW,MAAM,eAAe,CAAC;AAErK,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC;IAmIC,cAAc;IACd,oBACS,QAAyB,EACzB,KAAiB,EACjB,SAAmB,EACnB,OAAe,EAChB,YAA8B;QAJ7B,aAAQ,GAAR,QAAQ,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAY;QACjB,cAAS,GAAT,SAAS,CAAU;QACnB,YAAO,GAAP,OAAO,CAAQ;QAChB,iBAAY,GAAZ,YAAY,CAAkB;QApItC,iBAAiB;QACA,iBAAY,GAAkC,IAAI,YAAY,CAAkB,KAAK,CAAC,CAAC;QACvF,gBAAW,GAAkC,IAAI,YAAY,EAAmB,CAAC;QACjF,WAAM,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAC5E,eAAU,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAChF,cAAS,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAC/E,kBAAa,GAAkC,IAAI,YAAY,EAAmB,CAAC;QACnF,aAAQ,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAC9E,iBAAY,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAClF,gBAAW,GAAkC,IAAI,YAAY,EAAmB,CAAC;QACjF,kBAAa,GAAkC,IAAI,YAAY,EAAmB,CAAC;QACnF,aAAQ,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAC9E,iBAAY,GAAkC,IAAI,YAAY,EAAmB,CAAC;QAClF,gBAAW,GAAkC,IAAI,YAAY,EAAmB,CAAC;QACjF,qBAAgB,GAAmC,IAAI,YAAY,EAAoB,CAAC;QAmBzG,yCAAyC;QAElC,YAAO,GAAY,KAAK,CAAC;QACzB,gBAAW,GAAY,IAAI,CAAC;QAC5B,gBAAW,GAAY,IAAI,CAAC;QAC5B,aAAQ,GAAW,CAAC,CAAC;QACrB,cAAS,GAAW,CAAC,CAAC;QACtB,QAAG,GAAW,IAAI,CAAC;QAIlB,qBAAgB,GAAuB,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;QAC1D,UAAK,GAAmB,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACvC,YAAO,GAAG,UAAU,CAAC,oBAAoB,CAAC;QAC1C,gBAAW,GAAQ,IAAI,CAAC;QACxB,gBAAW,GAAW,IAAI,CAAC;QAC3B,kBAAa,GAAiB,IAAI,CAAC;QACnC,gBAAW,GAAW,EAAE,CAAC;QAKzB,WAAM,GAAY,KAAK,CAAC;QAGxB,aAAQ,GAAW,CAAC,CAAC;QACrB,aAAQ,GAAW,CAAC,CAAC;QACrB,aAAQ,GAAW,CAAC,CAAC;QACrB,aAAQ,GAAW,CAAC,CAAC;QACrB,sBAAiB,GAAa,EAAE,CAAC;QACjC,YAAO,GAAW,CAAC,CAAC;IAsExB,CAAC;IApEL,sBAAI,8BAAM;aAKV;YACC,OAAO,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;aAPD,UAAW,MAAc;YACxB,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;YACvF,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAOD,sBAAI,8BAAM;QADV,yBAAyB;aACzB,UAAW,CAAmB;YAC7B,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YAErB,IAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;YAC3E,KAAK,IAAM,CAAC,IAAI,UAAU,CAAC,oBAAoB;gBAC9C,IAAI,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI;oBAC1B,YAAY,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YAEvD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAE7B,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;gBAC7B,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;oBACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC;iBAC7D;gBAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACpC;YAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC3B;YAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC7B,CAAC;;;OAAA;IAED,sBAAI,6BAAK;aAAT;YACC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACrB,CAAC;;;OAAA;IAED,sBAAI,6BAAK;aAAT;YACC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACrB,CAAC;;;OAAA;IAED,sBAAI,2BAAG;aAAP;YACC,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAI,2BAAG;aAAP;YACC,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAI,kCAAU;aAAd;YACC,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAI,kCAAU;aAAd;YACC,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAClC,CAAC;;;OAAA;IAWM,uCAAkB,GAAzB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACM,kCAAa,GAApB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACM,sCAAiB,GAAxB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC5B,CAAC;IACM,qCAAgB,GAAvB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACM,gCAAW,GAAlB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACM,oCAAe,GAAtB;QACC,IAAM,KAAK,GAAoB,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC5B,CAAC;IACM,mCAAc,GAArB;QACC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC5B,CAAC;IAEM,6BAAQ,GAAf;QACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QAC5E,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAC7G,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SAC3B;IACF,CAAC;IAED,iBAAiB;IACV,4BAAO,GAAd,UAAe,CAAM;QACpB,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO,KAAK,CAAC;QAEpC,IAAI,IAAI,CAAC,WAAW,EAAE;YACrB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;SACnD;QAED,OAAO,IAAI,CAAC;IACb,CAAC;IAEM,+BAAU,GAAjB,UAAkB,cAAsB,EAAE,YAAyB;QAClE,IAAI;YACH,IAAI,UAAU,GAAQ,YAAY,CAAC;YAEnC,OAAO,UAAU,IAAI,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;gBAC7D,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,cAAc,CAAC;oBAAE,OAAO,IAAI,CAAC;gBAEjE,UAAU,GAAG,UAAU,CAAC,aAAa,CAAC;aACtC;SACD;QAAC,OAAO,GAAG,EAAE,GAAE,CAAC,+BAA+B;QAEhD,OAAO,KAAK,CAAC;IACd,CAAC;IAEM,8BAAS,GAAhB,UAAiB,CAAM;QACtB,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO,IAAI,CAAC;QAEnC,IAAI,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,OAAO,IAAI,CAAC,aAAa,KAAK,QAAQ,EAAE;gBAC3C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC;aAC5E;YAED,IAAI,OAAO,IAAI,CAAC,aAAa,KAAK,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAExD,KAAwB,UAAsB,EAAtB,KAAA,IAAI,CAAC,iBAAiB,EAAtB,cAAsB,EAAtB,IAAsB;gBAAzC,IAAM,SAAS,SAAA;gBACnB,IAAI,SAAS,IAAI,IAAI,CAAC,aAAa,EAAE;oBACpC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE;wBAC7D,OAAO,SAAS,CAAC;qBACjB;iBACD;aACD;YAED,OAAO,IAAI,CAAC;SACZ;QAED,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC;YAAE,OAAO,IAAI,CAAC;QAEvC,IAAM,QAAQ,GAAsB,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QAE9D,KAAwB,UAAsB,EAAtB,KAAA,IAAI,CAAC,iBAAiB,EAAtB,cAAsB,EAAtB,IAAsB;YAAzC,IAAM,SAAS,SAAA;YACnB,IAAI,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAE;gBACnD,OAAO,SAAS,CAAC;aACjB;SACD;QAED,OAAO,IAAI,CAAC;IACb,CAAC;IAEM,gCAAW,GAAlB,UAAmB,CAAM;QACxB,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC9B,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAE1C,IAAI,MAAM,GAAW,SAAS,CAAC;gBAC/B,QAAQ,eAAe,EAAE;oBACxB,KAAK,aAAa,CAAC;oBACnB,KAAK,SAAS;wBACb,MAAM,GAAG,aAAa,CAAC;wBACvB,MAAM;oBACP,KAAK,UAAU,CAAC;oBAChB,KAAK,YAAY;wBAChB,MAAM,GAAG,aAAa,CAAC;wBACvB,MAAM;oBACP,KAAK,KAAK,CAAC;oBACX,KAAK,QAAQ;wBACZ,MAAM,GAAG,WAAW,CAAC;wBACrB,MAAM;oBACP,KAAK,MAAM,CAAC;oBACZ,KAAK,OAAO;wBACX,MAAM,GAAG,WAAW,CAAC;wBACrB,MAAM;oBACP;wBACC,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;4BAC/C,MAAM,GAAG,MAAM,CAAC;yBAChB;wBACD,MAAM;iBACP;gBAED,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;aAC3E;iBAAM,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBACtD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;aAC3E;iBAAM;gBACN,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;aAC9E;SACD;IACF,CAAC;IAEM,gCAAW,GAAlB;QACC,IAAI,IAAI,CAAC,MAAM;YAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,UAAU;IACH,+BAAU,GAAjB;QACC,OAAO,IAAI,CAAC,KAAK,CAAC;IACnB,CAAC;IAEM,kCAAa,GAApB;QACC,OAAO,IAAI,CAAC,WAAW,CAAC;IACzB,CAAC;IAEM,oCAAe,GAAtB;QACC,OAAO,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAEM,kCAAa,GAApB;QACC,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;IAC7D,CAAC;IAEM,4BAAO,GAAd;QACC,OAAO,IAAI,CAAC,KAAK,CAAC;IACnB,CAAC;IAEM,gCAAW,GAAlB;QACC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IACrD,CAAC;IAEM,oCAAe,GAAtB;QACC,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC9B,CAAC;IAED,UAAU;IACH,8BAAS,GAAhB,UAAiB,MAAwB;QACxC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QAEtB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,gBAAgB,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,GAAG,CAAC;QAC1F,IAAI,CAAC,gBAAgB,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,GAAG,CAAC;QAC1F,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC;QACnF,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC;QACnF,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QACnD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,gBAAgB,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC;QAElF,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAExF,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3F,IAAI,CAAC,SAAS,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/F,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAAE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC/F,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAAE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAE/F,IAAI,IAAI,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAC9B;QAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAExC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAC/B,CAAC;IAEM,8BAAS,GAAhB;QACC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YACzB,IAAM,OAAO,GAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAEzD,IAAI,OAAO,IAAI,IAAI,EAAE;gBACpB,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aACnC;SACD;QAED,OAAO,KAAK,CAAC;IACd,CAAC;IAEM,4BAAO,GAAd,UAAe,OAAuB,EAAE,MAAsB;QAAtB,uBAAA,EAAA,aAAsB;QAC7D,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;QACrB,IAAI,MAAM;YAAE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAE1C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;IAC/C,CAAC;IAEM,oCAAe,GAAtB,UAAuB,YAAgC,EAAE,MAAsB;QAAtB,uBAAA,EAAA,aAAsB;QAC9E,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC;QACrC,IAAI,MAAM;YAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;IAC/C,CAAC;IAEM,mCAAc,GAArB;QACC,OAAO;YACN,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,GAAG;YAC9B,MAAM,EAAE,IAAI,CAAC,WAAW;YACxB,IAAI,EAAE,IAAI,CAAC,SAAS;YACpB,OAAO,EAAE,IAAI,CAAC,QAAQ;YACtB,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,GAAG;YAC9B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,QAAQ;YAClB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,UAAU;SACH,CAAC;IACtB,CAAC;IAEM,gCAAW,GAAlB,UAAmB,CAAS,EAAE,CAAS;QACtC,QAAQ,IAAI,CAAC,YAAY,EAAE;YAC1B,KAAK,IAAI,CAAC;YACV,KAAK,MAAM,CAAC;YACZ;gBACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC3E,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC1E,MAAM;YACP,KAAK,OAAO;gBACX,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC5E,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC1E,MAAM;YACP,KAAK,MAAM;gBACV,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC3E,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBAC7E,MAAM;SACP;QAED,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IACnB,CAAC;IAEM,mCAAc,GAArB,UAAsB,OAAe;QACpC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;QAC5B,QAAQ,OAAO,EAAE;YAChB,KAAK,IAAI,CAAC;YACV,KAAK,MAAM,CAAC;YACZ;gBACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBACxF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBACtF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;gBACxE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;gBACzE,MAAM;YACP,KAAK,OAAO;gBACX,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBACzF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBACtF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;gBACvE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;gBACzE,MAAM;YACP,KAAK,MAAM;gBACV,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBACxF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBACzF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;gBACxE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACtE,MAAM;SACP;IACF,CAAC;IAEM,kCAAa,GAApB,UAAqB,CAAS,EAAE,CAAS;QACxC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ;YAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QACzC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS;YAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QAE3C,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QAC5E,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QAE7E,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACtB,CAAC;IAEM,gCAAW,GAAlB;QACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;QACzE,IAAM,KAAK,GAAQ,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IACnK,CAAC;IAEM,+BAAU,GAAjB;QACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC1E,IAAM,KAAK,GAAQ,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IACnK,CAAC;IAEM,oCAAe,GAAtB;QACC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAC/B,CAAC;IAEM,8BAAS,GAAhB,UAAiB,OAAuB;QACvC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9E,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE9E,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9E,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE9E,IAAM,SAAS,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjI,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE1M,IAAM,UAAU,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnI,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS;YAAE,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;QAE9M,OAAO,OAAO,CAAC;IAChB,CAAC;IAED,kBAAkB;IACV,mCAAc,GAAtB,UAAuB,OAAY,EAAE,QAAgB;QACpD,IAAI,CAAC,OAAO;YAAE,OAAO,KAAK,CAAC;QAC3B,IAAI,OAAO,CAAC,OAAO;YAAE,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtD,IAAI,OAAO,CAAC,gBAAgB;YAAE,OAAO,OAAO,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACxE,IAAI,OAAO,CAAC,iBAAiB;YAAE,OAAO,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAC1E,IAAI,OAAO,CAAC,kBAAkB;YAAE,OAAO,OAAO,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAC5E,IAAI,OAAO,CAAC,qBAAqB;YAAE,OAAO,OAAO,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QAElF,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,aAAa;YAAE,OAAO,KAAK,CAAC;QAE9D,IAAM,OAAO,GAAoB,CAAC,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACxG,KAAK,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC7C,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;gBAChC,OAAO,IAAI,CAAC;aACZ;SACD;QAED,OAAO,KAAK,CAAC;IACd,CAAC;IAEO,yCAAoB,GAA5B;QACC,IAAM,CAAC,GAAW,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QACvL,IAAM,CAAC,GAAW,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAE3J,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,CAAC;IAEO,2CAAsB,GAA9B;QACC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO;YAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QAC7E,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO;YAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QAE7E,IAAM,QAAQ,GAAW,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9I,IAAM,SAAS,GAAW,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAEhJ,IAAM,CAAC,GAAW,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC3E,IAAM,CAAC,GAAW,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAE9E,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,CAAC;IAEO,sCAAiB,GAAzB,UAA0B,CAAM;QAC/B,IAAI,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE;YAC/C,IAAM,EAAE,GAAQ,CAAC,CAAC,aAAa,CAAC;YAChC,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9F;aAAM,IAAI,CAAC,CAAC,OAAO,EAAE;YACrB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1F;QAED,IAAM,MAAM,GAAsB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAEnF,OAAO;YACN,IAAI,EAAE,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI;YAC7B,GAAG,EAAE,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG;SAC3B,CAAC;IACH,CAAC;IAEO,kCAAa,GAArB,UAAsB,OAAY;QAAlC,iBAoBC;QAnBA,IAAI,OAAO,GAAY,KAAK,CAAC;QAC7B,IAAM,WAAW,GAAG,UAAC,MAAW;YAC/B,IAAI,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,YAAY,EAAE;gBACrD,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC;gBAC/C,OAAO,GAAG,IAAI,CAAC;aACf;QACF,CAAC,CAAC;QACF,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QACtC,OAAO,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;QACxC,OAAO,CAAC,kBAAkB,CAAC,UAAC,MAAW;YACtC,OAAO,GAAG,IAAI,CAAC;YACf,OAAO,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,IAAI,OAAO,EAAE;YACZ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC7B;QAED,OAAO,OAAO,CAAC;IAChB,CAAC;IAEO,wCAAmB,GAA3B;QACC,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI;YAAE,OAAO;QAEtC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QACpE,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;QACpE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC9C,CAAC;IAEO,yCAAoB,GAA5B,UAA6B,SAAiB,EAAE,QAA2B;QAC1E,QAAQ,SAAS,EAAE;YAClB,KAAK,aAAa;gBACjB,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW;uBACrF,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,IAAI,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,6BAA6B;YAC5H,KAAK,YAAY;gBAChB,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,IAAI,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW;uBACnE,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,6BAA6B;YACzF,KAAK,UAAU;gBACd,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW;uBACrF,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,6BAA6B;YACtE,KAAK,SAAS;gBACb,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,IAAI,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;YAC5E,KAAK,OAAO;gBACX,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;YAC9F,KAAK,MAAM;gBACV,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,KAAK,QAAQ;gBACZ,OAAO,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,IAAI,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC9F,KAAK,KAAK;gBACT,OAAO,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC;gBACC,OAAO,KAAK,CAAC;SACd;IACF,CAAC;IArlBD,iBAAiB;IACjB,0CAA0C;IAC1C,2CAA2C;IAC5B,+BAAoB,GAAqB;QACvD,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,CAAC;QACR,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;QAClB,KAAK,EAAE,KAAK;QACZ,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,EAAE;QACd,gBAAgB,EAAE,IAAI;KACtB,CAAC;;gBArCF,SAAS,SAAC;oBACV,MAAM,EAAE,CAAC,oBAAoB,CAAC;oBAC9B,QAAQ,EAAE,cAAc;iBACxB;;;;gBAPuE,eAAe;gBAAnE,UAAU;gBAAE,QAAQ;gBAE/B,MAAM;gBAF6F,gBAAgB;;;+BAU1H,MAAM;8BACN,MAAM;yBACN,MAAM;6BACN,MAAM;4BACN,MAAM;gCACN,MAAM;2BACN,MAAM;+BACN,MAAM;8BACN,MAAM;gCACN,MAAM;2BACN,MAAM;+BACN,MAAM;8BACN,MAAM;mCACN,MAAM;;IAwlBR,iBAAC;CAAA,AA3mBD,IA2mBC;SAvmBY,UAAU","sourcesContent":["import { Directive, ElementRef, Renderer, EventEmitter, KeyValueDiffer, KeyValueDiffers, OnInit, OnDestroy, ViewContainerRef, Output, DoCheck } from \"@angular/core\";\r\nimport { NgGridItemConfig, NgGridItemEvent, NgGridItemPosition, NgGridItemSize, NgGridRawPosition, NgGridItemDimensions, ResizeHandle } from \"../interfaces/INgGrid\";\r\nimport { NgGrid } from \"./NgGrid\";\r\n\r\n@Directive({\r\n\tinputs: [\"config: ngGridItem\"],\r\n\tselector: \"[ngGridItem]\",\r\n})\r\nexport class NgGridItem implements OnInit, OnDestroy, DoCheck {\r\n\t//\tEvent Emitters\r\n\t@Output() public onItemChange: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>(false);\r\n\t@Output() public onDragStart: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onDrag: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onDragStop: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onDragAny: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onResizeStart: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onResize: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onResizeStop: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onResizeAny: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onChangeStart: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onChange: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onChangeStop: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public onChangeAny: EventEmitter<NgGridItemEvent> = new EventEmitter<NgGridItemEvent>();\r\n\t@Output() public ngGridItemChange: EventEmitter<NgGridItemConfig> = new EventEmitter<NgGridItemConfig>();\r\n\r\n\t//\tDefault config\r\n\t// tslint:disable:object-literal-sort-keys\r\n\t// tslint:disable-next-line:member-ordering\r\n\tprivate static CONST_DEFAULT_CONFIG: NgGridItemConfig = {\r\n\t\tuid: null,\r\n\t\tcol: 1,\r\n\t\trow: 1,\r\n\t\tsizex: 1,\r\n\t\tsizey: 1,\r\n\t\tdragHandle: null,\r\n\t\tresizeHandle: null,\r\n\t\tfixed: false,\r\n\t\tdraggable: true,\r\n\t\tresizable: true,\r\n\t\tborderSize: 25,\r\n\t\tresizeDirections: null,\r\n\t};\r\n\t// tslint:enable:object-literal-sort-keys\r\n\r\n\tpublic isFixed: boolean = false;\r\n\tpublic isDraggable: boolean = true;\r\n\tpublic isResizable: boolean = true;\r\n\tpublic minWidth: number = 0;\r\n\tpublic minHeight: number = 0;\r\n\tpublic uid: string = null;\r\n\r\n\t//\tPrivate variables\r\n\tprivate _payload: any;\r\n\tprivate _currentPosition: NgGridItemPosition = { col: 1, row: 1 };\r\n\tprivate _size: NgGridItemSize = { x: 1, y: 1 };\r\n\tprivate _config = NgGridItem.CONST_DEFAULT_CONFIG;\r\n\tprivate _userConfig: any = null;\r\n\tprivate _dragHandle: string = null;\r\n\tprivate _resizeHandle: ResizeHandle = null;\r\n\tprivate _borderSize: number = 25;\r\n\tprivate _elemWidth: number;\r\n\tprivate _elemHeight: number;\r\n\tprivate _elemLeft: number;\r\n\tprivate _elemTop: number;\r\n\tprivate _added: boolean = false;\r\n\tprivate _differ: KeyValueDiffer<string, any>;\r\n\tprivate _cascadeMode: string;\r\n\tprivate _maxCols: number = 0;\r\n\tprivate _minCols: number = 0;\r\n\tprivate _maxRows: number = 0;\r\n\tprivate _minRows: number = 0;\r\n\tprivate _resizeDirections: string[] = [];\r\n\tprivate _zIndex: number = 0;\r\n\r\n\tset zIndex(zIndex: number) {\r\n\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"z-index\", zIndex.toString());\r\n\t\tthis._zIndex = zIndex;\r\n\t}\r\n\r\n\tget zIndex(): number {\r\n\t\treturn this._zIndex;\r\n\t}\r\n\r\n\t//\t[ng-grid-item] handler\r\n\tset config(v: NgGridItemConfig) {\r\n\t\tthis._userConfig = v;\r\n\r\n\t\tconst configObject = Object.assign({}, NgGridItem.CONST_DEFAULT_CONFIG, v);\r\n\t\tfor (const x in NgGridItem.CONST_DEFAULT_CONFIG)\r\n\t\t\tif (configObject[x] == null)\r\n\t\t\t\tconfigObject[x] = NgGridItem.CONST_DEFAULT_CONFIG[x];\r\n\r\n\t\tthis.setConfig(configObject);\r\n\r\n\t\tif (this._userConfig != null) {\r\n\t\t\tif (this._differ == null) {\r\n\t\t\t\tthis._differ = this._differs.find(this._userConfig).create();\r\n\t\t\t}\r\n\r\n\t\t\tthis._differ.diff(this._userConfig);\r\n\t\t}\r\n\r\n\t\tif (!this._added) {\r\n\t\t\tthis._added = true;\r\n\t\t\tthis._ngGrid.addItem(this);\r\n\t\t}\r\n\r\n\t\tthis._recalculateDimensions();\r\n\t\tthis._recalculatePosition();\r\n\t}\r\n\r\n\tget sizex(): number {\r\n\t\treturn this._size.x;\r\n\t}\r\n\r\n\tget sizey(): number {\r\n\t\treturn this._size.y;\r\n\t}\r\n\r\n\tget col(): number {\r\n\t\treturn this._currentPosition.col;\r\n\t}\r\n\r\n\tget row(): number {\r\n\t\treturn this._currentPosition.row;\r\n\t}\r\n\r\n\tget currentCol(): number {\r\n\t\treturn this._currentPosition.col;\r\n\t}\r\n\r\n\tget currentRow(): number {\r\n\t\treturn this._currentPosition.row;\r\n\t}\r\n\r\n\t//\tConstructor\r\n\tconstructor(\r\n\t\tprivate _differs: KeyValueDiffers,\r\n\t\tprivate _ngEl: ElementRef,\r\n\t\tprivate _renderer: Renderer,\r\n\t\tprivate _ngGrid: NgGrid,\r\n\t\tpublic containerRef: ViewContainerRef,\r\n\t) { }\r\n\r\n\tpublic onResizeStartEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onResizeStart.emit(event);\r\n\t\tthis.onResizeAny.emit(event);\r\n\t\tthis.onChangeStart.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\t}\r\n\tpublic onResizeEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onResize.emit(event);\r\n\t\tthis.onResizeAny.emit(event);\r\n\t\tthis.onChange.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\t}\r\n\tpublic onResizeStopEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onResizeStop.emit(event);\r\n\t\tthis.onResizeAny.emit(event);\r\n\t\tthis.onChangeStop.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\r\n\t\tthis.onConfigChangeEvent();\r\n\t}\r\n\tpublic onDragStartEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onDragStart.emit(event);\r\n\t\tthis.onDragAny.emit(event);\r\n\t\tthis.onChangeStart.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\t}\r\n\tpublic onDragEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onDrag.emit(event);\r\n\t\tthis.onDragAny.emit(event);\r\n\t\tthis.onChange.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\t}\r\n\tpublic onDragStopEvent(): void {\r\n\t\tconst event: NgGridItemEvent = this.getEventOutput();\r\n\t\tthis.onDragStop.emit(event);\r\n\t\tthis.onDragAny.emit(event);\r\n\t\tthis.onChangeStop.emit(event);\r\n\t\tthis.onChangeAny.emit(event);\r\n\r\n\t\tthis.onConfigChangeEvent();\r\n\t}\r\n\tpublic onCascadeEvent(): void {\r\n\t\tthis.onConfigChangeEvent();\r\n\t}\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._renderer.setElementClass(this._ngEl.nativeElement, \"grid-item\", true);\r\n\t\tif (this._ngGrid.autoStyle) this._renderer.setElementStyle(this._ngEl.nativeElement, \"position\", \"absolute\");\r\n\t\tthis._recalculateDimensions();\r\n\t\tthis._recalculatePosition();\r\n\r\n\t\tif (!this._added) {\r\n\t\t\tthis._added = true;\r\n\t\t\tthis._ngGrid.addItem(this);\r\n\t\t}\r\n\t}\r\n\r\n\t//\tPublic methods\r\n\tpublic canDrag(e: any): boolean {\r\n\t\tif (!this.isDraggable) return false;\r\n\r\n\t\tif (this._dragHandle) {\r\n\t\t\treturn this.findHandle(this._dragHandle, e.target);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic findHandle(handleSelector: string, startElement: HTMLElement): boolean {\r\n\t\ttry {\r\n\t\t\tlet targetElem: any = startElement;\r\n\r\n\t\t\twhile (targetElem && targetElem !== this._ngEl.nativeElement) {\r\n\t\t\t\tif (this.elementMatches(targetElem, handleSelector)) return true;\r\n\r\n\t\t\t\ttargetElem = targetElem.parentElement;\r\n\t\t\t}\r\n\t\t} catch (err) {}\t// tslint:disable-line:no-empty\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic canResize(e: any): string {\r\n\t\tif (!this.isResizable) return null;\r\n\r\n\t\tif (this._resizeHandle) {\r\n\t\t\tif (typeof this._resizeHandle === \"string\") {\r\n\t\t\t\treturn this.findHandle(this._resizeHandle, e.target) ? \"bottomright\" : null;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof this._resizeHandle !== \"object\") return null;\r\n\r\n\t\t\tfor (const direction of this._resizeDirections) {\r\n\t\t\t\tif (direction in this._resizeHandle) {\r\n\t\t\t\t\tif (this.findHandle(this._resizeHandle[direction], e.target)) {\r\n\t\t\t\t\t\treturn direction;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (this._borderSize <= 0) return null;\r\n\r\n\t\tconst mousePos: NgGridRawPosition = this._getMousePosition(e);\r\n\r\n\t\tfor (const direction of this._resizeDirections) {\r\n\t\t\tif (this.canResizeInDirection(direction, mousePos)) {\r\n\t\t\t\treturn direction;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic onMouseMove(e: any): void {\r\n\t\tif (this._ngGrid.autoStyle) {\r\n\t\t\tif (this._ngGrid.resizeEnable) {\r\n\t\t\t\tconst resizeDirection = this.canResize(e);\r\n\r\n\t\t\t\tlet cursor: string = \"default\";\r\n\t\t\t\tswitch (resizeDirection) {\r\n\t\t\t\t\tcase \"bottomright\":\r\n\t\t\t\t\tcase \"topleft\":\r\n\t\t\t\t\t\tcursor = \"nwse-resize\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"topright\":\r\n\t\t\t\t\tcase \"bottomleft\":\r\n\t\t\t\t\t\tcursor = \"nesw-resize\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\tcursor = \"ns-resize\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\tcursor = \"ew-resize\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif (this._ngGrid.dragEnable && this.canDrag(e)) {\r\n\t\t\t\t\t\t\tcursor = \"move\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"cursor\", cursor);\r\n\t\t\t} else if (this._ngGrid.dragEnable && this.canDrag(e)) {\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"cursor\", \"move\");\r\n\t\t\t} else {\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"cursor\", \"default\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tif (this._added) this._ngGrid.removeItem(this);\r\n\t}\r\n\r\n\t//\tGetters\r\n\tpublic getElement(): ElementRef {\r\n\t\treturn this._ngEl;\r\n\t}\r\n\r\n\tpublic getDragHandle(): string {\r\n\t\treturn this._dragHandle;\r\n\t}\r\n\r\n\tpublic getResizeHandle(): ResizeHandle {\r\n\t\treturn this._resizeHandle;\r\n\t}\r\n\r\n\tpublic getDimensions(): NgGridItemDimensions {\r\n\t\treturn { width: this._elemWidth, height: this._elemHeight };\r\n\t}\r\n\r\n\tpublic getSize(): NgGridItemSize {\r\n\t\treturn this._size;\r\n\t}\r\n\r\n\tpublic getPosition(): NgGridRawPosition {\r\n\t\treturn { left: this._elemLeft, top: this._elemTop };\r\n\t}\r\n\r\n\tpublic getGridPosition(): NgGridItemPosition {\r\n\t\treturn this._currentPosition;\r\n\t}\r\n\r\n\t//\tSetters\r\n\tpublic setConfig(config: NgGridItemConfig): void {\r\n\t\tthis._config = config;\r\n\r\n\t\tthis._payload = config.payload;\r\n\t\tthis._currentPosition.col = config.col ? config.col : NgGridItem.CONST_DEFAULT_CONFIG.col;\r\n\t\tthis._currentPosition.row = config.row ? config.row : NgGridItem.CONST_DEFAULT_CONFIG.row;\r\n\t\tthis._size.x = config.sizex ? config.sizex : NgGridItem.CONST_DEFAULT_CONFIG.sizex;\r\n\t\tthis._size.y = config.sizey ? config.sizey : NgGridItem.CONST_DEFAULT_CONFIG.sizey;\r\n\t\tthis._dragHandle = config.dragHandle;\r\n\t\tthis._resizeHandle = config.resizeHandle;\r\n\t\tthis._borderSize = config.borderSize;\r\n\t\tthis.isDraggable = config.draggable ? true : false;\r\n\t\tthis.isResizable = config.resizable ? true : false;\r\n\t\tthis.isFixed = config.fixed ? true : false;\r\n\t\tthis._resizeDirections = config.resizeDirections || this._ngGrid.resizeDirections;\r\n\r\n\t\tthis._maxCols = !isNaN(config.maxCols) && isFinite(config.maxCols) ? config.maxCols : 0;\r\n\t\tthis._minCols = !isNaN(config.minCols) && isFinite(config.minCols) ? config.minCols : 0;\r\n\t\tthis._maxRows = !isNaN(config.maxRows) && isFinite(config.maxRows) ? config.maxRows : 0;\r\n\t\tthis._minRows = !isNaN(config.minRows) && isFinite(config.minRows) ? config.minRows : 0;\r\n\r\n\t\tthis.minWidth = !isNaN(config.minWidth) && isFinite(config.minWidth) ? config.minWidth : 0;\r\n\t\tthis.minHeight = !isNaN(config.minHeight) && isFinite(config.minHeight) ? config.minHeight : 0;\r\n\r\n\t\tif (this._minCols > 0 && this._maxCols > 0 && this._minCols > this._maxCols) this._minCols = 0;\r\n\t\tif (this._minRows > 0 && this._maxRows > 0 && this._minRows > this._maxRows) this._minRows = 0;\r\n\r\n\t\tif (this._added) {\r\n\t\t\tthis._ngGrid.updateItem(this);\r\n\t\t}\r\n\r\n\t\tthis._size = this.fixResize(this._size);\r\n\r\n\t\tthis._recalculatePosition();\r\n\t\tthis._recalculateDimensions();\r\n\t}\r\n\r\n\tpublic ngDoCheck(): boolean {\r\n\t\tif (this._differ != null) {\r\n\t\t\tconst changes: any = this._differ.diff(this._userConfig);\r\n\r\n\t\t\tif (changes != null) {\r\n\t\t\t\treturn this._applyChanges(changes);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic setSize(newSize: NgGridItemSize, update: boolean = true): void {\r\n\t\tnewSize = this.fixResize(newSize);\r\n\t\tthis._size = newSize;\r\n\t\tif (update) this._recalculateDimensions();\r\n\r\n\t\tthis.onItemChange.emit(this.getEventOutput());\r\n\t}\r\n\r\n\tpublic setGridPosition(gridPosition: NgGridItemPosition, update: boolean = true): void {\r\n\t\tthis._currentPosition = gridPosition;\r\n\t\tif (update) this._recalculatePosition();\r\n\r\n\t\tthis.onItemChange.emit(this.getEventOutput());\r\n\t}\r\n\r\n\tpublic getEventOutput(): NgGridItemEvent {\r\n\t\treturn {\r\n\t\t\tcol: this._currentPosition.col,\r\n\t\t\theight: this._elemHeight,\r\n\t\t\tleft: this._elemLeft,\r\n\t\t\tpayload: this._payload,\r\n\t\t\trow: this._currentPosition.row,\r\n\t\t\tsizex: this._size.x,\r\n\t\t\tsizey: this._size.y,\r\n\t\t\ttop: this._elemTop,\r\n\t\t\tuid: this.uid,\r\n\t\t\twidth: this._elemWidth,\r\n\t\t} as NgGridItemEvent;\r\n\t}\r\n\r\n\tpublic setPosition(x: number, y: number): void {\r\n\t\tswitch (this._cascadeMode) {\r\n\t\t\tcase \"up\":\r\n\t\t\tcase \"left\":\r\n\t\t\tdefault:\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"left\", x + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"top\", y + \"px\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"right\":\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"right\", x + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"top\", y + \"px\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"down\":\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"left\", x + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"bottom\", y + \"px\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis._elemLeft = x;\r\n\t\tthis._elemTop = y;\r\n\t}\r\n\r\n\tpublic setCascadeMode(cascade: string): void {\r\n\t\tthis._cascadeMode = cascade;\r\n\t\tswitch (cascade) {\r\n\t\t\tcase \"up\":\r\n\t\t\tcase \"left\":\r\n\t\t\tdefault:\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"left\", this._elemLeft + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"top\", this._elemTop + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"right\", null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"bottom\", null);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"right\":\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"right\", this._elemLeft + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"top\", this._elemTop + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"left\", null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"bottom\", null);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"down\":\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"left\", this._elemLeft + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"bottom\", this._elemTop + \"px\");\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"right\", null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"top\", null);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setDimensions(w: number, h: number): void {\r\n\t\tif (w < this.minWidth) w = this.minWidth;\r\n\t\tif (h < this.minHeight) h = this.minHeight;\r\n\r\n\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"width\", w + \"px\");\r\n\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, \"height\", h + \"px\");\r\n\r\n\t\tthis._elemWidth = w;\r\n\t\tthis._elemHeight = h;\r\n\t}\r\n\r\n\tpublic startMoving(): void {\r\n\t\tthis._renderer.setElementClass(this._ngEl.nativeElement, \"moving\", true);\r\n\t\tconst style: any = window.getComputedStyle(this._ngEl.nativeElement);\r\n\t\tif (this._ngGrid.autoStyle) this._renderer.setElementStyle(this._ngEl.nativeElement, \"z-index\", (parseInt(style.getPropertyValue(\"z-index\"), 10) + 1).toString());\r\n\t}\r\n\r\n\tpublic stopMoving(): void {\r\n\t\tthis._renderer.setElementClass(this._ngEl.nativeElement, \"moving\", false);\r\n\t\tconst style: any = window.getComputedStyle(this._ngEl.nativeElement);\r\n\t\tif (this._ngGrid.autoStyle) this._renderer.setElementStyle(this._ngEl.nativeElement, \"z-index\", (parseInt(style.getPropertyValue(\"z-index\"), 10) - 1).toString());\r\n\t}\r\n\r\n\tpublic recalculateSelf(): void {\r\n\t\tthis._recalculatePosition();\r\n\t\tthis._recalculateDimensions();\r\n\t}\r\n\r\n\tpublic fixResize(newSize: NgGridItemSize): NgGridItemSize {\r\n\t\tif (this._maxCols > 0 && newSize.x > this._maxCols) newSize.x = this._maxCols;\r\n\t\tif (this._maxRows > 0 && newSize.y > this._maxRows) newSize.y = this._maxRows;\r\n\r\n\t\tif (this._minCols > 0 && newSize.x < this._minCols) newSize.x = this._minCols;\r\n\t\tif (this._minRows > 0 && newSize.y < this._minRows) newSize.y = this._minRows;\r\n\r\n\t\tconst itemWidth = (newSize.x * this._ngGrid.colWidth) + ((this._ngGrid.marginLeft + this._ngGrid.marginRight) * (newSize.x - 1));\r\n\t\tif (itemWidth < this.minWidth) newSize.x = Math.ceil((this.minWidth + this._ngGrid.marginRight + this._ngGrid.marginLeft) / (this._ngGrid.colWidth + this._ngGrid.marginRight + this._ngGrid.marginLeft));\r\n\r\n\t\tconst itemHeight = (newSize.y * this._ngGrid.rowHeight) + ((this._ngGrid.marginTop + this._ngGrid.marginBottom) * (newSize.y - 1));\r\n\t\tif (itemHeight < this.minHeight) newSize.y = Math.ceil((this.minHeight + this._ngGrid.marginBottom + this._ngGrid.marginTop) / (this._ngGrid.rowHeight + this._ngGrid.marginBottom + this._ngGrid.marginTop));\r\n\r\n\t\treturn newSize;\r\n\t}\r\n\r\n\t//\tPrivate methods\r\n\tprivate elementMatches(element: any, selector: string): boolean {\r\n\t\tif (!element) return false;\r\n\t\tif (element.matches) return element.matches(selector);\r\n\t\tif (element.oMatchesSelector) return element.oMatchesSelector(selector);\r\n\t\tif (element.msMatchesSelector) return element.msMatchesSelector(selector);\r\n\t\tif (element.mozMatchesSelector) return element.mozMatchesSelector(selector);\r\n\t\tif (element.webkitMatchesSelector) return element.webkitMatchesSelector(selector);\r\n\r\n\t\tif (!element.document || !element.ownerDocument) return false;\r\n\r\n\t\tconst matches: NodeListOf<any> = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n\t\tfor (let i = matches.length - 1; i >= 0; i--) {\r\n\t\t\tif (matches.item(i) === element) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _recalculatePosition(): void {\r\n\t\tconst x: number = (this._ngGrid.colWidth + this._ngGrid.marginLeft + this._ngGrid.marginRight) * (this._currentPosition.col - 1) + this._ngGrid.marginLeft + this._ngGrid.screenMargin;\r\n\t\tconst y: number = (this._ngGrid.rowHeight + this._ngGrid.marginTop + this._ngGrid.marginBottom) * (this._currentPosition.row - 1) + this._ngGrid.marginTop;\r\n\r\n\t\tthis.setPosition(x, y);\r\n\t}\r\n\r\n\tprivate _recalculateDimensions(): void {\r\n\t\tif (this._size.x < this._ngGrid.minCols) this._size.x = this._ngGrid.minCols;\r\n\t\tif (this._size.y < this._ngGrid.minRows) this._size.y = this._ngGrid.minRows;\r\n\r\n\t\tconst newWidth: number = (this._ngGrid.colWidth * this._size.x) + ((this._ngGrid.marginLeft + this._ngGrid.marginRight) * (this._size.x - 1));\r\n\t\tconst newHeight: number = (this._ngGrid.rowHeight * this._size.y) + ((this._ngGrid.marginTop + this._ngGrid.marginBottom) * (this._size.y - 1));\r\n\r\n\t\tconst w: number = Math.max(this.minWidth, this._ngGrid.minWidth, newWidth);\r\n\t\tconst h: number = Math.max(this.minHeight, this._ngGrid.minHeight, newHeight);\r\n\r\n\t\tthis.setDimensions(w, h);\r\n\t}\r\n\r\n\tprivate _getMousePosition(e: any): NgGridRawPosition {\r\n\t\tif (e.originalEvent && e.originalEvent.touches) {\r\n\t\t\tconst oe: any = e.originalEvent;\r\n\t\t\te = oe.touches.length ? oe.touches[0] : (oe.changedTouches.length ? oe.changedTouches[0] : e);\r\n\t\t} else if (e.touches) {\r\n\t\t\te = e.touches.length ? e.touches[0] : (e.changedTouches.length ? e.changedTouches[0] : e);\r\n\t\t}\r\n\r\n\t\tconst refPos: NgGridRawPosition = this._ngEl.nativeElement.getBoundingClientRect();\r\n\r\n\t\treturn {\r\n\t\t\tleft: e.clientX - refPos.left,\r\n\t\t\ttop: e.clientY - refPos.top,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate _applyChanges(changes: any): boolean {\r\n\t\tlet changed: boolean = false;\r\n\t\tconst changeCheck = (record: any) => {\r\n\t\t\tif (this._config[record.key] !== record.currentValue) {\r\n\t\t\t\tthis._config[record.key] = record.currentValue;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tchanges.forEachAddedItem(changeCheck);\r\n\t\tchanges.forEachChangedItem(changeCheck);\r\n\t\tchanges.forEachRemovedItem((record: any) => {\r\n\t\t\tchanged = true;\r\n\t\t\tdelete this._config[record.key];\r\n\t\t});\r\n\r\n\t\tif (changed) {\r\n\t\t\tthis.setConfig(this._config);\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t}\r\n\r\n\tprivate onConfigChangeEvent() {\r\n\t\tif (this._userConfig === null) return;\r\n\r\n\t\tthis._config.sizex = this._userConfig.sizex = this._size.x;\r\n\t\tthis._config.sizey = this._userConfig.sizey = this._size.y;\r\n\t\tthis._config.col = this._userConfig.col = this._currentPosition.col;\r\n\t\tthis._config.row = this._userConfig.row = this._currentPosition.row;\r\n\t\tthis.ngGridItemChange.emit(this._userConfig);\r\n\t}\r\n\r\n\tprivate canResizeInDirection(direction: string, mousePos: NgGridRawPosition): boolean {\r\n\t\tswitch (direction) {\r\n\t\t\tcase \"bottomright\":\r\n\t\t\t\treturn mousePos.left < this._elemWidth && mousePos.left > this._elemWidth - this._borderSize\r\n\t\t\t\t    && mousePos.top < this._elemHeight && mousePos.top > this._elemHeight - this._borderSize;\t// tslint:disable-line:indent\r\n\t\t\tcase \"bottomleft\":\r\n\t\t\t\treturn mousePos.left < this._borderSize && mousePos.top < this._elemHeight\r\n\t\t\t\t    && mousePos.top > this._elemHeight - this._borderSize;\t// tslint:disable-line:indent\r\n\t\t\tcase \"topright\":\r\n\t\t\t\treturn mousePos.left < this._elemWidth && mousePos.left > this._elemWidth - this._borderSize\r\n\t\t\t\t    && mousePos.top < this._borderSize;\t// tslint:disable-line:indent\r\n\t\t\tcase \"topleft\":\r\n\t\t\t\treturn mousePos.left < this._borderSize && mousePos.top < this._borderSize;\r\n\t\t\tcase \"right\":\r\n\t\t\t\treturn mousePos.left < this._elemWidth && mousePos.left > this._elemWidth - this._borderSize;\r\n\t\t\tcase \"left\":\r\n\t\t\t\treturn mousePos.left < this._borderSize;\r\n\t\t\tcase \"bottom\":\r\n\t\t\t\treturn mousePos.top < this._elemHeight && mousePos.top > this._elemHeight - this._borderSize;\r\n\t\t\tcase \"top\":\r\n\t\t\t\treturn mousePos.top < this._borderSize;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n"]}